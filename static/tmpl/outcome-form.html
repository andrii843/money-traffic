<!-- Нова Категорія -->
<div ng-if="user_is_auth">
  <h3>Нова витрата коштів</h3>
  <form name="outcomeForm" novalidate>

    <label for="save_type">Місце зберігання коштів</label>
    <div id="save_type" class="form-group">
        <select name="outcomesave" ng-change="check_outcome_sum(outcome)" ng-model="outcome.selectedSave" ng-options="save.name for save in saves" class="form-control" required></select>
        <span ng-show="outcomeForm.outcomesave.$touched && outcomeForm.outcomesave.$invalid">
          <span ng-show="outcomeForm.outcomesave.$error.required">Поле не заповнено</span>
        </span>
    </div>

    <div class="form-group">
      <input name="outcomesumma" type="text" class="form-control" ng-blur="check_outcome_sum(outcome)" ng-model="outcome.summa" placeholder="Cума витрат" required smart-float>
      <span ng-show="outcomeForm.outcomesumma.$touched && outcomeForm.outcomesumma.$invalid">
        <span ng-show="outcomeForm.outcomesumma.$error.required">Поле не заповнено</span>
        <span ng-show="outcomeForm.outcomesumma.$error.validFloat">Значення дійсним числом більшим 0 і двома знаками після крапки</span>
      </span>
      <span style="color:red" ng-show="notEnoughSum">Ви можете переказати тільки {{ sum_in_wallet }} </span>
    </div>  

    <label for="source_type">Категорія витрат</label>
    <div id="source_type" class="form-group">
        <select name="outcomecategory" ng-model="outcome.selectedCategory" ng-options="category.name for category in categories" class="form-control" required></select>
        <span ng-show="outcomeForm.outcomecategory.$touched && outcomeForm.outcomecategory.$invalid">
          <span ng-show="outcomeForm.outcomecategory.$error.required">Поле не заповнено</span>
        </span>
    </div>  

    <div class="form-group">
      <textarea name="outcomenotes" class="form-control" cols="30" rows="5" ng-model="outcome.notes" placeholder="Примітка" required></textarea>

      <span ng-show="outcomeForm.outcomenotes.$touched && outcomeForm.outcomenotes.$invalid">
        <span ng-show="outcomeForm.outcomenotes.$error.required">Поле не заповнено</span>
      </span>
    </div>


    <button class="btn btn-success" ng-click="store_outcome(outcome)" ng-disabled="outcomeForm.$invalid || notEnoughSum">Зберегти</button>
  </form>  
</div>